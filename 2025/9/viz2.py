


from matplotlib import pyplot as plt
import os

pts = []
n = 0
with open("input.txt", "r") as f:
    for i, line in enumerate(f.readlines()):
        a,b = line.strip().split(',')
        pts.append((int(a),int(b)))

# Create screens directory if it doesn't exist
os.makedirs("screens", exist_ok=True)

lines = [((98004, 50283), (94901, 50265)), ((98004, 51502), (94901, 50265)), ((98073, 51502), (94901, 50265)), ((98073, 52727), (94901, 50265)), ((98144, 52727), (94901, 50265)), ((98144, 53937), (94901, 50265)), ((97953, 53937), (94901, 50265)), ((97953, 55168), (94901, 50265)), ((98003, 55168), (94901, 50265)), ((98003, 56406), (94901, 50265)), ((98033, 56406), (94901, 50265)), ((98033, 57473), (94901, 50265)), ((96926, 57473), (94901, 50265)), ((96926, 58748), (94901, 50265)), ((97199, 58748), (94901, 50265)), ((97199, 59926), (94901, 50265)), ((96895, 59926), (94901, 50265)), ((96895, 61220), (94901, 50265)), ((97084, 61220), (94901, 50265)), ((97084, 62314), (94901, 50265)), ((96426, 62314), (94901, 50265)), ((96426, 63395), (94901, 50265)), ((95789, 63395), (94901, 50265)), ((95789, 64490), (94901, 50265)), ((95244, 64490), (94901, 50265)), ((95244, 65829), (94901, 50265)), ((95432, 65829), (94901, 50265)), ((95432, 66934), (94901, 50265)), ((94907, 66934), (94901, 50265)), ((94907, 68050), (94901, 50265)), ((94423, 68050), (94901, 50265)), ((94423, 69341), (94901, 50265)), ((94345, 69341), (94901, 50265)), ((94345, 70156), (94901, 50265)), ((93192, 70156), (94901, 50265)), ((93192, 71485), (94901, 50265)), ((93153, 71485), (94901, 50265)), ((93153, 72568), (94901, 50265)), ((92590, 72568), (94901, 50265)), ((92590, 73702), (94901, 50265)), ((92113, 73702), (94901, 50265)), ((92113, 74741), (94901, 50265)), ((91467, 74741), (94901, 50265)), ((91467, 75567), (94901, 50265)), ((90483, 75567), (94901, 50265)), ((90483, 76688), (94901, 50265)), ((89978, 76688), (94901, 50265)), ((89978, 77537), (94901, 50265)), ((89068, 77537), (94901, 50265)), ((89068, 78372), (94901, 50265)), ((88163, 78372), (94901, 50265)), ((88163, 79469), (94901, 50265)), ((87609, 79469), (94901, 50265)), ((87609, 80612), (94901, 50265)), ((87093, 80612), (94901, 50265)), ((87093, 81578), (94901, 50265)), ((86346, 81578), (94901, 50265)), ((86346, 82422), (94901, 50265)), ((85463, 82422), (94901, 50265)), ((85463, 82939), (94901, 50265)), ((84244, 82939), (94901, 50265)), ((84244, 84206), (94901, 50265)), ((83804, 84206), (94901, 50265)), ((83804, 84848), (94901, 50265)), ((82735, 84848), (94901, 50265)), ((82735, 85434), (94901, 50265)), ((81634, 85434), (94901, 50265)), ((81634, 86745), (94901, 50265)), ((81168, 86745), (94901, 50265)), ((81168, 87730), (94901, 50265)), ((80395, 87730), (94901, 50265)), ((80395, 87950), (94901, 50265)), ((79018, 87950), (94901, 50265)), ((79018, 88564), (94901, 50265)), ((77968, 88564), (94901, 50265)), ((77968, 89681), (94901, 50265)), ((77272, 89681), (94901, 50265)), ((77272, 90032), (94901, 50265)), ((76045, 90032), (94901, 50265)), ((76045, 90883), (94901, 50265)), ((75148, 90883), (94901, 50265)), ((75148, 91125), (94901, 50265)), ((73882, 91125), (94901, 50265)), ((73882, 91934), (94901, 50265)), ((72952, 91934), (94901, 50265)), ((72952, 92557), (94901, 50265)), ((71910, 92557), (94901, 50265)), ((71910, 92993), (94901, 50265)), ((70774, 92993), (94901, 50265)), ((70774, 93784), (94901, 50265)), ((69804, 93784), (94901, 50265)), ((69804, 94065), (94901, 50265)), ((68601, 94065), (94901, 50265)), ((68601, 94737), (94901, 50265)), ((67564, 94737), (94901, 50265)), ((67564, 94644), (94901, 50265)), ((66234, 94644), (94901, 50265)), ((66234, 95260), (94901, 50265)), ((65172, 95260), (94901, 50265)), ((65172, 96308), (94901, 50265)), ((64228, 96308), (94901, 50265)), ((64228, 96569), (94901, 50265)), ((63027, 96569), (94901, 50265)), ((63027, 96815), (94901, 50265)), ((61826, 96815), (94901, 50265)), ((61826, 96343), (94901, 50265)), ((60465, 96343), (94901, 50265)), ((60465, 96835), (94901, 50265)), ((59336, 96835), (94901, 50265)), ((59336, 97723), (94901, 50265)), ((58262, 97723), (94901, 50265)), ((58262, 97006), (94901, 50265)), ((56916, 97006), (94901, 50265)), ((56916, 97227), (94901, 50265)), ((55731, 97227), (94901, 50265)), ((55731, 97435), (94901, 50265)), ((54540, 97435), (94901, 50265)), ((54540, 98266), (94901, 50265)), ((53388, 98266), (94901, 50265)), ((53388, 98391), (94901, 50265)), ((52167, 98391), (94901, 50265)), ((52167, 98195), (94901, 50265)), ((50936, 98195), (94901, 50265)), ((50936, 98172), (94901, 50265)), ((49715, 98172), (94901, 50265)), ((49715, 97959), (94901, 50265)), ((48500, 97959), (94901, 50265)), ((48500, 98135), (94901, 50265)), ((47273, 98135), (94901, 50265)), ((47273, 98219), (94901, 50265)), ((46040, 98219), (94901, 50265)), ((46040, 97295), (94901, 50265)), ((44907, 97295), (94901, 50265)), ((44907, 97942), (94901, 50265)), ((43605, 97942), (94901, 50265)), ((43605, 96967), (94901, 50265)), ((42520, 96967), (94901, 50265)), ((42520, 96937), (94901, 50265)), ((41300, 96937), (94901, 50265)), ((41300, 96652), (94901, 50265)), ((40124, 96652), (94901, 50265)), ((40124, 96994), (94901, 50265)), ((38801, 96994), (94901, 50265)), ((38801, 96419), (94901, 50265)), ((37687, 96419), (94901, 50265)), ((37687, 95965), (94901, 50265)), ((36552, 95965), (94901, 50265)), ((36552, 95897), (94901, 50265)), ((35300, 95897), (94901, 50265)), ((35300, 95312), (94901, 50265)), ((34211, 95312), (94901, 50265)), ((34211, 94929), (94901, 50265)), ((33056, 94929), (94901, 50265)), ((33056, 94007), (94901, 50265)), ((32118, 94007), (94901, 50265)), ((32118, 93804), (94901, 50265)), ((30894, 93804), (94901, 50265)), ((30894, 93729), (94901, 50265)), ((29593, 93729), (94901, 50265)), ((29593, 93046), (94901, 50265)), ((28568, 93046), (94901, 50265)), ((28568, 92453), (94901, 50265)), ((27503, 92453), (94901, 50265)), ((27503, 91601), (94901, 50265)), ((26586, 91601), (94901, 50265)), ((26586, 90840), (94901, 50265)), ((25632, 90840), (94901, 50265)), ((25632, 90635), (94901, 50265)), ((24336, 90635), (94901, 50265)), ((24336, 89546), (94901, 50265)), ((23599, 89546), (94901, 50265)), ((23599, 89479), (94901, 50265)), ((22173, 89479), (94901, 50265)), ((22173, 88691), (94901, 50265)), ((21234, 88691), (94901, 50265)), ((21234, 87455), (94901, 50265)), ((20651, 87455), (94901, 50265)), ((20651, 87191), (94901, 50265)), ((19306, 87191), (94901, 50265)), ((19306, 86273), (94901, 50265)), ((18485, 86273), (94901, 50265)), ((18485, 85089), (94901, 50265)), ((17918, 85089), (94901, 50265)), ((17918, 84736), (94901, 50265)), ((16587, 84736), (94901, 50265)), ((16587, 83568), (94901, 50265)), ((16032, 83568), (94901, 50265)), ((16032, 83102), (94901, 50265)), ((14760, 83102), (94901, 50265)), ((14760, 82116), (94901, 50265)), ((14026, 82116), (94901, 50265)), ((14026, 81313), (94901, 50265)), ((13084, 81313), (94901, 50265)), ((13084, 79817), (94901, 50265)), ((12987, 79817), (94901, 50265)), ((12987, 79115), (94901, 50265)), ((11922, 79115), (94901, 50265)), ((11922, 78148), (94901, 50265)), ((11187, 78148), (94901, 50265)), ((11187, 77151), (94901, 50265)), ((10493, 77151), (94901, 50265)), ((10493, 75950), (94901, 50265)), ((10112, 75950), (94901, 50265)), ((10112, 74905), (94901, 50265)), ((9511, 74905), (94901, 50265)), ((9511, 74201), (94901, 50265)), ((8326, 74201), (94901, 50265)), ((8326, 72904), (94901, 50265)), ((8152, 72904), (94901, 50265)), ((8152, 71838), (94901, 50265)), ((7581, 71838), (94901, 50265)), ((7581, 70676), (94901, 50265)), ((7210, 70676), (94901, 50265)), ((7210, 69798), (94901, 50265)), ((6230, 69798), (94901, 50265)), ((6230, 68607), (94901, 50265)), ((5921, 68607), (94901, 50265)), ((5921, 67692), (94901, 50265)), ((4935, 67692), (94901, 50265)), ((4935, 66370), (94901, 50265)), ((4983, 66370), (94901, 50265)), ((4983, 65240), (94901, 50265)), ((4534, 65240), (94901, 50265)), ((4534, 64208), (94901, 50265)), ((3759, 64208), (94901, 50265)), ((3759, 62870), (94901, 50265)), ((3992, 62870), (94901, 50265)), ((3992, 61715), (94901, 50265)), ((3622, 61715), (94901, 50265)), ((3622, 60663), (94901, 50265)), ((2780, 60663), (94901, 50265)), ((2780, 59343), (94901, 50265)), ((3127, 59343), (94901, 50265)), ((3127, 58209), (94901, 50265)), ((2581, 58209), (94901, 50265)), ((2581, 57040), (94901, 50265)), ((2155, 57040), (94901, 50265)), ((2155, 55761), (94901, 50265)), ((2518, 55761), (94901, 50265)), ((2518, 54592), (94901, 50265)), ((2022, 54592), (94901, 50265)), ((2022, 53344), (94901, 50265)), ((2362, 53344), (94901, 50265)), ((2362, 52146), (94901, 50265)), ((2079, 52146), (94901, 50265)), ((2079, 50925), (94901, 50265)), ((2365, 50925), (94901, 50265)), ((2365, 50265), (94901, 50265)), ((94901, 50265), (98004, 50283)), ((94901, 50265), (98004, 51502)), ((94901, 50265), (98073, 51502)), ((94901, 50265), (98073, 52727)), ((94901, 50265), (98144, 52727)), ((94901, 50265), (98144, 53937)), ((94901, 50265), (97953, 53937)), ((94901, 50265), (97953, 55168)), ((94901, 50265), (98003, 55168)), ((94901, 50265), (98003, 56406)), ((94901, 50265), (98033, 56406)), ((94901, 50265), (98033, 57473)), ((94901, 50265), (96926, 57473)), ((94901, 50265), (96926, 58748)), ((94901, 50265), (97199, 58748)), ((94901, 50265), (97199, 59926)), ((94901, 50265), (96895, 59926)), ((94901, 50265), (96895, 61220)), ((94901, 50265), (97084, 61220)), ((94901, 50265), (97084, 62314)), ((94901, 50265), (96426, 62314)), ((94901, 50265), (96426, 63395)), ((94901, 50265), (95789, 63395)), ((94901, 50265), (95789, 64490)), ((94901, 50265), (95244, 64490)), ((94901, 50265), (95244, 65829)), ((94901, 50265), (95432, 65829)), ((94901, 50265), (95432, 66934)), ((94901, 50265), (94907, 66934)), ((94901, 50265), (94907, 68050)), ((94901, 50265), (94423, 68050)), ((94901, 50265), (94423, 69341)), ((94901, 50265), (94345, 69341)), ((94901, 50265), (94345, 70156)), ((94901, 50265), (93192, 70156)), ((94901, 50265), (93192, 71485)), ((94901, 50265), (93153, 71485)), ((94901, 50265), (93153, 72568)), ((94901, 50265), (92590, 72568)), ((94901, 50265), (92590, 73702)), ((94901, 50265), (92113, 73702)), ((94901, 50265), (92113, 74741)), ((94901, 50265), (91467, 74741)), ((94901, 50265), (91467, 75567)), ((94901, 50265), (90483, 75567)), ((94901, 50265), (90483, 76688)), ((94901, 50265), (89978, 76688)), ((94901, 50265), (89978, 77537)), ((94901, 50265), (89068, 77537)), ((94901, 50265), (89068, 78372)), ((94901, 50265), (88163, 78372)), ((94901, 50265), (88163, 79469)), ((94901, 50265), (87609, 79469)), ((94901, 50265), (87609, 80612)), ((94901, 50265), (87093, 80612)), ((94901, 50265), (87093, 81578)), ((94901, 50265), (86346, 81578)), ((94901, 50265), (86346, 82422)), ((94901, 50265), (85463, 82422)), ((94901, 50265), (85463, 82939)), ((94901, 50265), (84244, 82939)), ((94901, 50265), (84244, 84206)), ((94901, 50265), (83804, 84206)), ((94901, 50265), (83804, 84848)), ((94901, 50265), (82735, 84848)), ((94901, 50265), (82735, 85434)), ((94901, 50265), (81634, 85434)), ((94901, 50265), (81634, 86745)), ((94901, 50265), (81168, 86745)), ((94901, 50265), (81168, 87730)), ((94901, 50265), (80395, 87730)), ((94901, 50265), (80395, 87950)), ((94901, 50265), (79018, 87950)), ((94901, 50265), (79018, 88564)), ((94901, 50265), (77968, 88564)), ((94901, 50265), (77968, 89681)), ((94901, 50265), (77272, 89681)), ((94901, 50265), (77272, 90032)), ((94901, 50265), (76045, 90032)), ((94901, 50265), (76045, 90883)), ((94901, 50265), (75148, 90883)), ((94901, 50265), (75148, 91125)), ((94901, 50265), (73882, 91125)), ((94901, 50265), (73882, 91934)), ((94901, 50265), (72952, 91934)), ((94901, 50265), (72952, 92557)), ((94901, 50265), (71910, 92557)), ((94901, 50265), (71910, 92993)), ((94901, 50265), (70774, 92993)), ((94901, 50265), (70774, 93784)), ((94901, 50265), (69804, 93784)), ((94901, 50265), (69804, 94065)), ((94901, 50265), (68601, 94065)), ((94901, 50265), (68601, 94737)), ((94901, 50265), (67564, 94737)), ((94901, 50265), (67564, 94644)), ((94901, 50265), (66234, 94644)), ((94901, 50265), (66234, 95260)), ((94901, 50265), (65172, 95260)), ((94901, 50265), (65172, 96308)), ((94901, 50265), (64228, 96308)), ((94901, 50265), (64228, 96569)), ((94901, 50265), (63027, 96569)), ((94901, 50265), (63027, 96815)), ((94901, 50265), (61826, 96815)), ((94901, 50265), (61826, 96343)), ((94901, 50265), (60465, 96343)), ((94901, 50265), (60465, 96835)), ((94901, 50265), (59336, 96835)), ((94901, 50265), (59336, 97723)), ((94901, 50265), (58262, 97723)), ((94901, 50265), (58262, 97006)), ((94901, 50265), (56916, 97006)), ((94901, 50265), (56916, 97227)), ((94901, 50265), (55731, 97227)), ((94901, 50265), (55731, 97435)), ((94901, 50265), (54540, 97435)), ((94901, 50265), (54540, 98266)), ((94901, 50265), (53388, 98266)), ((94901, 50265), (53388, 98391)), ((94901, 50265), (52167, 98391)), ((94901, 50265), (52167, 98195)), ((94901, 50265), (50936, 98195)), ((94901, 50265), (50936, 98172)), ((94901, 50265), (49715, 98172)), ((94901, 50265), (49715, 97959)), ((94901, 50265), (48500, 97959)), ((94901, 50265), (48500, 98135)), ((94901, 50265), (47273, 98135)), ((94901, 50265), (47273, 98219)), ((94901, 50265), (46040, 98219)), ((94901, 50265), (46040, 97295)), ((94901, 50265), (44907, 97295)), ((94901, 50265), (44907, 97942)), ((94901, 50265), (43605, 97942)), ((94901, 50265), (43605, 96967)), ((94901, 50265), (42520, 96967)), ((94901, 50265), (42520, 96937)), ((94901, 50265), (41300, 96937)), ((94901, 50265), (41300, 96652)), ((94901, 50265), (40124, 96652)), ((94901, 50265), (40124, 96994)), ((94901, 50265), (38801, 96994)), ((94901, 50265), (38801, 96419)), ((94901, 50265), (37687, 96419)), ((94901, 50265), (37687, 95965)), ((94901, 50265), (36552, 95965)), ((94901, 50265), (36552, 95897)), ((94901, 50265), (35300, 95897)), ((94901, 50265), (35300, 95312)), ((94901, 50265), (34211, 95312)), ((94901, 50265), (34211, 94929)), ((94901, 50265), (33056, 94929)), ((94901, 50265), (33056, 94007)), ((94901, 50265), (32118, 94007)), ((94901, 50265), (32118, 93804)), ((94901, 50265), (30894, 93804)), ((94901, 50265), (30894, 93729)), ((94901, 50265), (29593, 93729)), ((94901, 50265), (29593, 93046)), ((94901, 50265), (28568, 93046)), ((94901, 50265), (28568, 92453)), ((94901, 50265), (27503, 92453)), ((94901, 50265), (27503, 91601)), ((94901, 50265), (26586, 91601)), ((94901, 50265), (26586, 90840)), ((94901, 50265), (25632, 90840)), ((94901, 50265), (25632, 90635)), ((94901, 50265), (24336, 90635)), ((94901, 50265), (24336, 89546)), ((94901, 50265), (23599, 89546)), ((94901, 50265), (23599, 89479)), ((94901, 50265), (22173, 89479)), ((94901, 50265), (22173, 88691)), ((94901, 50265), (21234, 88691)), ((94901, 50265), (21234, 87455)), ((94901, 50265), (20651, 87455)), ((94901, 50265), (20651, 87191)), ((94901, 50265), (19306, 87191)), ((94901, 50265), (19306, 86273)), ((94901, 50265), (18485, 86273)), ((94901, 50265), (18485, 85089)), ((94901, 50265), (17918, 85089)), ((94901, 50265), (17918, 84736)), ((94901, 50265), (16587, 84736)), ((94901, 50265), (16587, 83568)), ((94901, 50265), (16032, 83568)), ((94901, 50265), (16032, 83102)), ((94901, 50265), (14760, 83102)), ((94901, 50265), (14760, 82116)), ((94901, 50265), (14026, 82116)), ((94901, 50265), (14026, 81313)), ((94901, 50265), (13084, 81313)), ((94901, 50265), (13084, 79817)), ((94901, 50265), (12987, 79817)), ((94901, 50265), (12987, 79115)), ((94901, 50265), (11922, 79115)), ((94901, 50265), (11922, 78148)), ((94901, 50265), (11187, 78148)), ((94901, 50265), (11187, 77151)), ((94901, 50265), (10493, 77151)), ((94901, 50265), (10493, 75950)), ((94901, 50265), (10112, 75950)), ((94901, 50265), (10112, 74905)), ((94901, 50265), (9511, 74905)), ((94901, 50265), (9511, 74201)), ((94901, 50265), (8326, 74201)), ((94901, 50265), (8326, 72904)), ((94901, 50265), (8152, 72904)), ((94901, 50265), (8152, 71838)), ((94901, 50265), (7581, 71838)), ((94901, 50265), (7581, 70676)), ((94901, 50265), (7210, 70676)), ((94901, 50265), (7210, 69798)), ((94901, 50265), (6230, 69798)), ((94901, 50265), (6230, 68607)), ((94901, 50265), (5921, 68607)), ((94901, 50265), (5921, 67692)), ((94901, 50265), (4935, 67692)), ((94901, 50265), (4935, 66370)), ((94901, 50265), (4983, 66370)), ((94901, 50265), (4983, 65240)), ((94901, 50265), (4534, 65240)), ((94901, 50265), (4534, 64208)), ((94901, 50265), (3759, 64208)), ((94901, 50265), (3759, 62870)), ((94901, 50265), (3992, 62870)), ((94901, 50265), (3992, 61715)), ((94901, 50265), (3622, 61715)), ((94901, 50265), (3622, 60663)), ((94901, 50265), (2780, 60663)), ((94901, 50265), (2780, 59343)), ((94901, 50265), (3127, 59343)), ((94901, 50265), (3127, 58209)), ((94901, 50265), (2581, 58209)), ((94901, 50265), (2581, 57040)), ((94901, 50265), (2155, 57040)), ((94901, 50265), (2155, 55761)), ((94901, 50265), (2518, 55761)), ((94901, 50265), (2518, 54592)), ((94901, 50265), (2022, 54592)), ((94901, 50265), (2022, 53344)), ((94901, 50265), (2362, 53344)), ((94901, 50265), (2362, 52146)), ((94901, 50265), (2079, 52146)), ((94901, 50265), (2079, 50925)), ((94901, 50265), (2365, 50925)), ((94901, 50265), (2365, 50265)), ((94901, 48488), (1659, 48488)), ((94901, 48488), (1659, 47308)), ((94901, 48488), (2494, 47308)), ((94901, 48488), (2494, 46043)), ((94901, 48488), (1812, 46043)), ((94901, 48488), (1812, 44875)), ((94901, 48488), (2401, 44875)), ((94901, 48488), (2401, 43591)), ((94901, 48488), (1950, 43591)), ((94901, 48488), (1950, 42377)), ((94901, 48488), (2134, 42377)), ((94901, 48488), (2134, 41191)), ((94901, 48488), (2472, 41191)), ((94901, 48488), (2472, 40153)), ((94901, 48488), (3483, 40153)), ((94901, 48488), (3483, 38963)), ((94901, 48488), (3684, 38963)), ((94901, 48488), (3684, 37617)), ((94901, 48488), (3317, 37617)), ((94901, 48488), (3317, 36454)), ((94901, 48488), (3697, 36454)), ((94901, 48488), (3697, 35377)), ((94901, 48488), (4342, 35377)), ((94901, 48488), (4342, 34263)), ((94901, 48488), (4837, 34263)), ((94901, 48488), (4837, 32955)), ((94901, 48488), (4800, 32955)), ((94901, 48488), (4800, 31869)), ((94901, 48488), (5379, 31869)), ((94901, 48488), (5379, 30923)), ((94901, 48488), (6262, 30923)), ((94901, 48488), (6262, 29782)), ((94901, 48488), (6675, 29782)), ((94901, 48488), (6675, 28650)), ((94901, 48488), (7119, 28650)), ((94901, 48488), (7119, 27415)), ((94901, 48488), (7379, 27415)), ((94901, 48488), (7379, 26415)), ((94901, 48488), (8095, 26415)), ((94901, 48488), (8095, 25406)), ((94901, 48488), (8781, 25406)), ((94901, 48488), (8781, 24145)), ((94901, 48488), (9061, 24145)), ((94901, 48488), (9061, 23300)), ((94901, 48488), (10005, 23300)), ((94901, 48488), (10005, 22154)), ((94901, 48488), (10494, 22154)), ((94901, 48488), (10494, 21597)), ((94901, 48488), (11796, 21597)), ((94901, 48488), (11796, 20131)), ((94901, 48488), (11881, 20131)), ((94901, 48488), (11881, 19735)), ((94901, 48488), (13328, 19735)), ((94901, 48488), (13328, 18722)), ((94901, 48488), (13998, 18722)), ((94901, 48488), (13998, 17795)), ((94901, 48488), (14776, 17795)), ((94901, 48488), (14776, 16811)), ((94901, 48488), (15496, 16811)), ((94901, 48488), (15496, 15841)), ((94901, 48488), (16243, 15841)), ((94901, 48488), (16243, 14681)), ((94901, 48488), (16822, 14681)), ((94901, 48488), (16822, 14162)), ((94901, 48488), (18004, 14162)), ((94901, 48488), (18004, 13340)), ((94901, 48488), (18903, 13340)), ((94901, 48488), (18903, 12715)), ((94901, 48488), (19963, 12715)), ((94901, 48488), (19963, 11815)), ((94901, 48488), (20802, 11815)), ((94901, 48488), (20802, 11108)), ((94901, 48488), (21793, 11108)), ((94901, 48488), (21793, 10828)), ((94901, 48488), (23078, 10828)), ((94901, 48488), (23078, 10062)), ((94901, 48488), (24016, 10062)), ((94901, 48488), (24016, 9070)), ((94901, 48488), (24823, 9070)), ((94901, 48488), (24823, 8392)), ((94901, 48488), (25837, 8392)), ((94901, 48488), (25837, 7547)), ((94901, 48488), (26764, 7547)), ((94901, 48488), (26764, 7731)), ((94901, 48488), (28238, 7731)), ((94901, 48488), (28238, 6379)), ((94901, 48488), (28922, 6379)), ((94901, 48488), (28922, 5921)), ((94901, 48488), (30062, 5921)), ((94901, 48488), (30062, 5661)), ((94901, 48488), (31282, 5661)), ((94901, 48488), (31282, 5137)), ((94901, 48488), (32386, 5137)), ((94901, 48488), (32386, 5118)), ((94901, 48488), (33678, 5118)), ((94901, 48488), (33678, 4277)), ((94901, 48488), (34673, 4277)), ((94901, 48488), (34673, 4403)), ((94901, 48488), (35989, 4403)), ((94901, 48488), (35989, 4090)), ((94901, 48488), (37156, 4090)), ((94901, 48488), (37156, 3656)), ((94901, 48488), (38292, 3656)), ((94901, 48488), (38292, 3559)), ((94901, 48488), (39512, 3559)), ((94901, 48488), (39512, 2594)), ((94901, 48488), (40549, 2594)), ((94901, 48488), (40549, 2472)), ((94901, 48488), (41771, 2472)), ((94901, 48488), (41771, 2323)), ((94901, 48488), (42984, 2323)), ((94901, 48488), (42984, 2689)), ((94901, 48488), (44258, 2689)), ((94901, 48488), (44258, 2443)), ((94901, 48488), (45448, 2443)), ((94901, 48488), (45448, 2139)), ((94901, 48488), (46639, 2139)), ((94901, 48488), (46639, 1555)), ((94901, 48488), (47830, 1555)), ((94901, 48488), (47830, 1845)), ((94901, 48488), (49064, 1845)), ((94901, 48488), (49064, 1634)), ((94901, 48488), (50286, 1634)), ((94901, 48488), (50286, 2188)), ((94901, 48488), (51494, 2188)), ((94901, 48488), (51494, 2386)), ((94901, 48488), (52697, 2386)), ((94901, 48488), (52697, 2595)), ((94901, 48488), (53892, 2595)), ((94901, 48488), (53892, 2621)), ((94901, 48488), (55101, 2621)), ((94901, 48488), (55101, 2661)), ((94901, 48488), (56313, 2661)), ((94901, 48488), (56313, 2728)), ((94901, 48488), (57528, 2728)), ((94901, 48488), (57528, 2364)), ((94901, 48488), (58828, 2364)), ((94901, 48488), (58828, 2818)), ((94901, 48488), (59987, 2818)), ((94901, 48488), (59987, 2845)), ((94901, 48488), (61236, 2845)), ((94901, 48488), (61236, 3836)), ((94901, 48488), (62244, 3836)), ((94901, 48488), (62244, 3791)), ((94901, 48488), (63518, 3791)), ((94901, 48488), (63518, 4250)), ((94901, 48488), (64651, 4250)), ((94901, 48488), (64651, 4284)), ((94901, 48488), (65928, 4284)), ((94901, 48488), (65928, 5346)), ((94901, 48488), (66839, 5346)), ((94901, 48488), (66839, 5849)), ((94901, 48488), (67939, 5849)), ((94901, 48488), (67939, 5650)), ((94901, 48488), (69343, 5650)), ((94901, 48488), (69343, 6127)), ((94901, 48488), (70473, 6127)), ((94901, 48488), (70473, 7026)), ((94901, 48488), (71396, 7026)), ((94901, 48488), (71396, 7311)), ((94901, 48488), (72621, 7311)), ((94901, 48488), (72621, 7898)), ((94901, 48488), (73695, 7898)), ((94901, 48488), (73695, 8360)), ((94901, 48488), (74844, 8360)), ((94901, 48488), (74844, 9323)), ((94901, 48488), (75689, 9323)), ((94901, 48488), (75689, 9834)), ((94901, 48488), (76813, 9834)), ((94901, 48488), (76813, 10909)), ((94901, 48488), (77552, 10909)), ((94901, 48488), (77552, 11764)), ((94901, 48488), (78426, 11764)), ((94901, 48488), (78426, 12198)), ((94901, 48488), (79619, 12198)), ((94901, 48488), (79619, 12720)), ((94901, 48488), (80766, 12720)), ((94901, 48488), (80766, 13911)), ((94901, 48488), (81353, 13911)), ((94901, 48488), (81353, 14300)), ((94901, 48488), (82639, 14300)), ((94901, 48488), (82639, 15444)), ((94901, 48488), (83238, 15444)), ((94901, 48488), (83238, 15925)), ((94901, 48488), (84480, 15925)), ((94901, 48488), (84480, 17167)), ((94901, 48488), (84951, 17167)), ((94901, 48488), (84951, 18280)), ((94901, 48488), (85528, 18280)), ((94901, 48488), (85528, 19271)), ((94901, 48488), (86225, 19271)), ((94901, 48488), (86225, 20163)), ((94901, 48488), (87036, 20163)), ((94901, 48488), (87036, 20724)), ((94901, 48488), (88286, 20724)), ((94901, 48488), (88286, 21775)), ((94901, 48488), (88917, 21775)), ((94901, 48488), (88917, 22924)), ((94901, 48488), (89395, 22924)), ((94901, 48488), (89395, 24077)), ((94901, 48488), (89844, 24077)), ((94901, 48488), (89844, 24888)), ((94901, 48488), (90823, 24888)), ((94901, 48488), (90823, 25962)), ((94901, 48488), (91392, 25962)), ((94901, 48488), (91392, 27042)), ((94901, 48488), (91944, 27042)), ((94901, 48488), (91944, 28174)), ((94901, 48488), (92391, 28174)), ((94901, 48488), (92391, 28956)), ((94901, 48488), (93550, 28956)), ((94901, 48488), (93550, 30107)), ((94901, 48488), (93978, 30107)), ((94901, 48488), (93978, 31501)), ((94901, 48488), (93820, 31501)), ((94901, 48488), (93820, 32387)), ((94901, 48488), (94861, 32387)), ((94901, 48488), (94861, 33531)), ((94901, 48488), (95288, 33531)), ((94901, 48488), (95288, 34727)), ((94901, 48488), (95560, 34727)), ((94901, 48488), (95560, 35758)), ((94901, 48488), (96349, 35758)), ((94901, 48488), (96349, 37174)), ((94901, 48488), (95847, 37174)), ((94901, 48488), (95847, 38217)), ((94901, 48488), (96640, 38217)), ((94901, 48488), (96640, 39523)), ((94901, 48488), (96391, 39523)), ((94901, 48488), (96391, 40646)), ((94901, 48488), (96922, 40646)), ((94901, 48488), (96922, 41796)), ((94901, 48488), (97381, 41796)), ((94901, 48488), (97381, 43019)), ((94901, 48488), (97440, 43019)), ((94901, 48488), (97440, 44222)), ((94901, 48488), (97609, 44222)), ((94901, 48488), (97609, 45404)), ((94901, 48488), (98016, 45404)), ((94901, 48488), (98016, 46605)), ((94901, 48488), (98352, 46605)), ((94901, 48488), (98352, 47838)), ((94901, 48488), (98266, 47838)), ((94901, 48488), (98266, 49062)), ((94901, 48488), (98278, 49062)), ((94901, 48488), (98278, 50283)), ((1659, 48488), (94901, 48488)), ((1659, 47308), (94901, 48488)), ((2494, 47308), (94901, 48488)), ((2494, 46043), (94901, 48488)), ((1812, 46043), (94901, 48488)), ((1812, 44875), (94901, 48488)), ((2401, 44875), (94901, 48488)), ((2401, 43591), (94901, 48488)), ((1950, 43591), (94901, 48488)), ((1950, 42377), (94901, 48488)), ((2134, 42377), (94901, 48488)), ((2134, 41191), (94901, 48488)), ((2472, 41191), (94901, 48488)), ((2472, 40153), (94901, 48488)), ((3483, 40153), (94901, 48488)), ((3483, 38963), (94901, 48488)), ((3684, 38963), (94901, 48488)), ((3684, 37617), (94901, 48488)), ((3317, 37617), (94901, 48488)), ((3317, 36454), (94901, 48488)), ((3697, 36454), (94901, 48488)), ((3697, 35377), (94901, 48488)), ((4342, 35377), (94901, 48488)), ((4342, 34263), (94901, 48488)), ((4837, 34263), (94901, 48488)), ((4837, 32955), (94901, 48488)), ((4800, 32955), (94901, 48488)), ((4800, 31869), (94901, 48488)), ((5379, 31869), (94901, 48488)), ((5379, 30923), (94901, 48488)), ((6262, 30923), (94901, 48488)), ((6262, 29782), (94901, 48488)), ((6675, 29782), (94901, 48488)), ((6675, 28650), (94901, 48488)), ((7119, 28650), (94901, 48488)), ((7119, 27415), (94901, 48488)), ((7379, 27415), (94901, 48488)), ((7379, 26415), (94901, 48488)), ((8095, 26415), (94901, 48488)), ((8095, 25406), (94901, 48488)), ((8781, 25406), (94901, 48488)), ((8781, 24145), (94901, 48488)), ((9061, 24145), (94901, 48488)), ((9061, 23300), (94901, 48488)), ((10005, 23300), (94901, 48488)), ((10005, 22154), (94901, 48488)), ((10494, 22154), (94901, 48488)), ((10494, 21597), (94901, 48488)), ((11796, 21597), (94901, 48488)), ((11796, 20131), (94901, 48488)), ((11881, 20131), (94901, 48488)), ((11881, 19735), (94901, 48488)), ((13328, 19735), (94901, 48488)), ((13328, 18722), (94901, 48488)), ((13998, 18722), (94901, 48488)), ((13998, 17795), (94901, 48488)), ((14776, 17795), (94901, 48488)), ((14776, 16811), (94901, 48488)), ((15496, 16811), (94901, 48488)), ((15496, 15841), (94901, 48488)), ((16243, 15841), (94901, 48488)), ((16243, 14681), (94901, 48488)), ((16822, 14681), (94901, 48488)), ((16822, 14162), (94901, 48488)), ((18004, 14162), (94901, 48488)), ((18004, 13340), (94901, 48488)), ((18903, 13340), (94901, 48488)), ((18903, 12715), (94901, 48488)), ((19963, 12715), (94901, 48488)), ((19963, 11815), (94901, 48488)), ((20802, 11815), (94901, 48488)), ((20802, 11108), (94901, 48488)), ((21793, 11108), (94901, 48488)), ((21793, 10828), (94901, 48488)), ((23078, 10828), (94901, 48488)), ((23078, 10062), (94901, 48488)), ((24016, 10062), (94901, 48488)), ((24016, 9070), (94901, 48488)), ((24823, 9070), (94901, 48488)), ((24823, 8392), (94901, 48488)), ((25837, 8392), (94901, 48488)), ((25837, 7547), (94901, 48488)), ((26764, 7547), (94901, 48488)), ((26764, 7731), (94901, 48488)), ((28238, 7731), (94901, 48488)), ((28238, 6379), (94901, 48488)), ((28922, 6379), (94901, 48488)), ((28922, 5921), (94901, 48488)), ((30062, 5921), (94901, 48488)), ((30062, 5661), (94901, 48488)), ((31282, 5661), (94901, 48488)), ((31282, 5137), (94901, 48488)), ((32386, 5137), (94901, 48488)), ((32386, 5118), (94901, 48488)), ((33678, 5118), (94901, 48488)), ((33678, 4277), (94901, 48488)), ((34673, 4277), (94901, 48488)), ((34673, 4403), (94901, 48488)), ((35989, 4403), (94901, 48488)), ((35989, 4090), (94901, 48488)), ((37156, 4090), (94901, 48488)), ((37156, 3656), (94901, 48488)), ((38292, 3656), (94901, 48488)), ((38292, 3559), (94901, 48488)), ((39512, 3559), (94901, 48488)), ((39512, 2594), (94901, 48488)), ((40549, 2594), (94901, 48488)), ((40549, 2472), (94901, 48488)), ((41771, 2472), (94901, 48488)), ((41771, 2323), (94901, 48488)), ((42984, 2323), (94901, 48488)), ((42984, 2689), (94901, 48488)), ((44258, 2689), (94901, 48488)), ((44258, 2443), (94901, 48488)), ((45448, 2443), (94901, 48488)), ((45448, 2139), (94901, 48488)), ((46639, 2139), (94901, 48488)), ((46639, 1555), (94901, 48488)), ((47830, 1555), (94901, 48488)), ((47830, 1845), (94901, 48488)), ((49064, 1845), (94901, 48488)), ((49064, 1634), (94901, 48488)), ((50286, 1634), (94901, 48488)), ((50286, 2188), (94901, 48488)), ((51494, 2188), (94901, 48488)), ((51494, 2386), (94901, 48488)), ((52697, 2386), (94901, 48488)), ((52697, 2595), (94901, 48488)), ((53892, 2595), (94901, 48488)), ((53892, 2621), (94901, 48488)), ((55101, 2621), (94901, 48488)), ((55101, 2661), (94901, 48488)), ((56313, 2661), (94901, 48488)), ((56313, 2728), (94901, 48488)), ((57528, 2728), (94901, 48488)), ((57528, 2364), (94901, 48488)), ((58828, 2364), (94901, 48488)), ((58828, 2818), (94901, 48488)), ((59987, 2818), (94901, 48488)), ((59987, 2845), (94901, 48488)), ((61236, 2845), (94901, 48488)), ((61236, 3836), (94901, 48488)), ((62244, 3836), (94901, 48488)), ((62244, 3791), (94901, 48488)), ((63518, 3791), (94901, 48488)), ((63518, 4250), (94901, 48488)), ((64651, 4250), (94901, 48488)), ((64651, 4284), (94901, 48488)), ((65928, 4284), (94901, 48488)), ((65928, 5346), (94901, 48488)), ((66839, 5346), (94901, 48488)), ((66839, 5849), (94901, 48488)), ((67939, 5849), (94901, 48488)), ((67939, 5650), (94901, 48488)), ((69343, 5650), (94901, 48488)), ((69343, 6127), (94901, 48488)), ((70473, 6127), (94901, 48488)), ((70473, 7026), (94901, 48488)), ((71396, 7026), (94901, 48488)), ((71396, 7311), (94901, 48488)), ((72621, 7311), (94901, 48488)), ((72621, 7898), (94901, 48488)), ((73695, 7898), (94901, 48488)), ((73695, 8360), (94901, 48488)), ((74844, 8360), (94901, 48488)), ((74844, 9323), (94901, 48488)), ((75689, 9323), (94901, 48488)), ((75689, 9834), (94901, 48488)), ((76813, 9834), (94901, 48488)), ((76813, 10909), (94901, 48488)), ((77552, 10909), (94901, 48488)), ((77552, 11764), (94901, 48488)), ((78426, 11764), (94901, 48488)), ((78426, 12198), (94901, 48488)), ((79619, 12198), (94901, 48488)), ((79619, 12720), (94901, 48488)), ((80766, 12720), (94901, 48488)), ((80766, 13911), (94901, 48488)), ((81353, 13911), (94901, 48488)), ((81353, 14300), (94901, 48488)), ((82639, 14300), (94901, 48488)), ((82639, 15444), (94901, 48488)), ((83238, 15444), (94901, 48488)), ((83238, 15925), (94901, 48488)), ((84480, 15925), (94901, 48488)), ((84480, 17167), (94901, 48488)), ((84951, 17167), (94901, 48488)), ((84951, 18280), (94901, 48488)), ((85528, 18280), (94901, 48488)), ((85528, 19271), (94901, 48488)), ((86225, 19271), (94901, 48488)), ((86225, 20163), (94901, 48488)), ((87036, 20163), (94901, 48488)), ((87036, 20724), (94901, 48488)), ((88286, 20724), (94901, 48488)), ((88286, 21775), (94901, 48488)), ((88917, 21775), (94901, 48488)), ((88917, 22924), (94901, 48488)), ((89395, 22924), (94901, 48488)), ((89395, 24077), (94901, 48488)), ((89844, 24077), (94901, 48488)), ((89844, 24888), (94901, 48488)), ((90823, 24888), (94901, 48488)), ((90823, 25962), (94901, 48488)), ((91392, 25962), (94901, 48488)), ((91392, 27042), (94901, 48488)), ((91944, 27042), (94901, 48488)), ((91944, 28174), (94901, 48488)), ((92391, 28174), (94901, 48488)), ((92391, 28956), (94901, 48488)), ((93550, 28956), (94901, 48488)), ((93550, 30107), (94901, 48488)), ((93978, 30107), (94901, 48488)), ((93978, 31501), (94901, 48488)), ((93820, 31501), (94901, 48488)), ((93820, 32387), (94901, 48488)), ((94861, 32387), (94901, 48488)), ((94861, 33531), (94901, 48488)), ((95288, 33531), (94901, 48488)), ((95288, 34727), (94901, 48488)), ((95560, 34727), (94901, 48488)), ((95560, 35758), (94901, 48488)), ((96349, 35758), (94901, 48488)), ((96349, 37174), (94901, 48488)), ((95847, 37174), (94901, 48488)), ((95847, 38217), (94901, 48488)), ((96640, 38217), (94901, 48488)), ((96640, 39523), (94901, 48488)), ((96391, 39523), (94901, 48488)), ((96391, 40646), (94901, 48488)), ((96922, 40646), (94901, 48488)), ((96922, 41796), (94901, 48488)), ((97381, 41796), (94901, 48488)), ((97381, 43019), (94901, 48488)), ((97440, 43019), (94901, 48488)), ((97440, 44222), (94901, 48488)), ((97609, 44222), (94901, 48488)), ((97609, 45404), (94901, 48488)), ((98016, 45404), (94901, 48488)), ((98016, 46605), (94901, 48488)), ((98352, 46605), (94901, 48488)), ((98352, 47838), (94901, 48488)), ((98266, 47838), (94901, 48488)), ((98266, 49062), (94901, 48488)), ((98278, 49062), (94901, 48488)), ((98278, 50283), (94901, 48488))]

j = 0
for pt1, pt2 in lines:
    # Create a new figure for each rectangle
    fig, ax = plt.subplots(figsize=(12, 12))

    # Plot the original segments (polygon)
    for i in range(len(pts)):
        p1 = pts[i]
        p2 = pts[(i + 1) % len(pts)]
        ax.plot([p1[0], p2[0]], [p1[1], p2[1]], 'b-', alpha=0.6)

    # Plot the points themselves
    x_coords = [p[0] for p in pts]
    y_coords = [p[1] for p in pts]
    ax.scatter(x_coords, y_coords, c='red', s=10)

    # Add index labels to each point
    for i, (x, y) in enumerate(pts):
        ax.text(x, y, str(i), fontsize=8, ha='right', va='bottom')

    # Now plot the current rectangle on top (highlighted)
    rect_x = [pt1[0], pt2[0], pt2[0], pt1[0], pt1[0]]
    rect_y = [pt1[1], pt1[1], pt2[1], pt2[1], pt1[1]]
    ax.plot(rect_x, rect_y, 'green', linewidth=3)
    ax.fill(rect_x, rect_y, 'yellow', alpha=0.3)

    # Set labels and title
    ax.set_xlabel('X')
    ax.set_ylabel('Y')
    ax.set_title(f'Rectangle {j}: {pt1} to {pt2}')
    ax.grid(True, alpha=0.3)
    ax.axis('equal')

    # Save the figure
    plt.savefig(f'screens/{j}.png', dpi=100, bbox_inches='tight')
    plt.close(fig)

    j += 1

print(f'Saved {j} rectangle images to screens/ directory')

